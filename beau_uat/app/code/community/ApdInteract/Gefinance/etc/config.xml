<?xml version="1.0"?>
<config>
    <modules>
        <ApdInteract_Gefinance>
            <version>0.1.0</version>
        </ApdInteract_Gefinance>
    </modules>
    <global>
    	<fieldsets>
	      <sales_convert_quote_payment>
	        <!--<ge_method>
	          <to_order_payment>*</to_order_payment>
	        </ge_method>-->
	        <ge_term>
	          <to_order_payment>*</to_order_payment>
	        </ge_term>
	      </sales_convert_quote_payment>
    	</fieldsets>
    	<helpers>
	      <gefinance>
	        <class>ApdInteract_Gefinance_Helper</class>
	      </gefinance>
	    </helpers>
        <models>
            <gefinance>
                <class>ApdInteract_Gefinance_Model</class>
            </gefinance>
        </models>
        <blocks>
            <gefinance>
                <class>ApdInteract_Gefinance_Block</class>
            </gefinance>
            <!--<rewrite>
		      <onepage_billing>ApdInteract_Gefinance_Block_Onepage_Billing</onepage_billing>		      
		    </re-write>-->
        </blocks>
		 <resources>
            <gefinance_setup>
                <setup>
                    <module>ApdInteract_Gefinance</module>
                    <class>Mage_Catalog_Model_Resource_Setup</class>
                </setup>
                <connection>
                    <use>core_setup</use>
                </connection>
            </gefinance_setup>
        </resources>
        <events>
<!--            <checkout_type_onepage_save_order_after>
                <observers>
                    <apdinteract_gefinance_checkout_type_onepage_save_order_after>
                        <class>ApdInteract_Gefinance_Model_Observer</class>
                        <method>saveOrderQuoteToSession</method>
                    </apdinteract_gefinance_checkout_type_onepage_save_order_after>
                </observers>
            </checkout_type_onepage_save_order_after>-->
            
            <controller_action_predispatch>
                <observers>
                    <apdinteract_gefinance_controller_action_predispatch>
                        <class>ApdInteract_Gefinance_Model_Observer</class>
                        <method>controllerActionPredispatch</method>
                    </apdinteract_gefinance_controller_action_predispatch>
                </observers>
            </controller_action_predispatch>
            
        </events>
    </global>
    <default>
        <payment>
            <gefinance>
                <active>1</active>
                <model>gefinance/paymentmethod</model>
                <order_status>pending</order_status>
                <title>GE Finance</title>
                <payment_action>sale</payment_action>
                <allowspecific>0</allowspecific>
            </gefinance>
        </payment>
    </default>
    <frontend>
	<layout>
		<updates>
			<gefinance>
				<file>gefinance.xml</file>
			</gefinance>
		</updates>
	</layout>
    <routers>
      <gefinance>
        <use>standard</use>
        <args>
          <module>ApdInteract_Gefinance</module>
          <frontName>gefinance</frontName>
        </args>
      </gefinance>
    </routers>	
  </frontend>
   <crontab>
    <jobs>
      <autodelete>
        <schedule>
          <cron_expr>0 * * * *</cron_expr>
        </schedule>
        <run>
          <model>gefinance/observer::_clearappointments</model>
        </run>
      </autodelete>
    </jobs>
  </crontab>
</config>